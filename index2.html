<html>
  <head>
    <title>Three.js polymer.js viewer example</title>
      <script src="../platform/platform.js"></script>
      <link rel="import" href="../polymer/polymer.html">
      <link rel="import" href="three-js.html">

      <style>
         html, body, three-js {
      margin: 0;
      position: relative;
      height: 100%;
    }
      </style>
  </head>
<body>
  <three-js>
    <three-stats id="stats" show></three-stats>
    <three-js-combinedCamera tracking x="100" y="100" z="200" orientation="top" cameraUp=[0,0,1] ></three-js-combinedCamera>
    <three-js-orbitControls cameraUp=[0,0,1] autoRotateSpeed="10" autoRotate> </three-js-orbitControls>

    <three-js-scene name="caramba" active>
      <three-js-object hierarchyRoot> <!--TODO: generate this automatically and use the shadowdom "content" to dispatch them correctly to the right parent??-->
        <three-js-cube x="-45" color="pink" w="24"> </three-js-cube>
        <three-js-cube x="150" color="blue" w="17" name="container" id="foo">
          <three-js-cube z="30" rx="40" rz="30" color="red" w="13" name="inner" id="bar"> </three-js-cube>
          <three-js-sphere z="40" x="40" rx="-40" rz="30"  color="orange" r="17" name="inner2" id="boom"> </three-js-sphere>
        </three-js-cube>
      </three-js-object>

      <three-js-object helpersRoot> 
        <three-axis-helper> </three-axis-helper>
        <three-js-light x="50" y="30" z="200"></three-js-light>
        <three-js-light kind="spot" x="-150" y="350" rx="90" shadow></three-js-light>
      </three-js-object>
    </three-js-scene>

    <!--Multiple scenes are supported , but only one can be active at a time: add an "active" attriube to select the current scene-->
    <three-js-scene name="aiaiai" >
      <three-js-object name="rootObject" hierarchyRoot> 
        <three-js-cube color="yellow" w="13"> </three-js-cube>
      </three-js-object>

      <three-js-object helpersRoot> 
        <three-axis-helper> </three-axis-helper>
        <three-js-light x="50" y="30" z="200"></three-js-light>
        <three-js-light kind="spot" x="-150" y="350" rx="90" shadow></three-js-light>
      </three-js-object>
    </three-js-scene>


    <three-effect-composer>
      <vignette-fx> </vignette-fx>
    </three-effect-composer>

  </three-js>

  <script>
    window.addEventListener('WebComponentsReady', function() {
	    var threeViewer = document.querySelector('three-js');
      //console.log("threeViewer",threeViewer.scene)
      //example : adding 3D shapes to viewer''
      var geometry = new THREE.CubeGeometry( 50, 50, 50 ); 
      geometry.computeCentroids();
    	geometry.computeBoundingSphere();
      geometry.computeBoundingBox();
	    var material = new THREE.MeshLambertMaterial( {opacity:1,transparent:true,color: 0x0088ff} ); 
	    var cube = new THREE.Mesh(geometry, material);
      cube.name = "TestCube";
      cube.position.set(-100,30,30);
      //add to scene
      

      var geometry = new THREE.SphereGeometry(12, 20,20);
      geometry.computeCentroids();
    	geometry.computeBoundingSphere();
      geometry.computeBoundingBox();
      var material = new THREE.MeshLambertMaterial( {opacity:1,transparent:true,color: 0xff8800} );
      var sphere = new THREE.Mesh(geometry, material);
      sphere.name = "testSphere";
      sphere.position.set(50,0,30);

      cube.add(sphere)

      threeViewer.toggleScene("aiaiai");

      //threeViewer.add3(cube);
      //threeViewer.add3(sphere);

      //clearing a scene
      //threeViewer.clearScene();

      //add things back
      //threeViewer.addToScene(cube);
      //threeViewer.addToScene(sphere);

      //remove cube only
      //threeViewer.removeFromScene(cube);

    });
      
    
  </script>  
</body>
</html>
