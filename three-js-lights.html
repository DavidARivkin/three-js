<polymer-element name="three-js-light" extends="three-js-object" attributes="kind color secColor intensity distance angle exponent castShadow">
  <script>
    Polymer('three-js-light', {
      kinds: {
        point: 'PointLight',
        spot: 'SpotLight',
        dir:  'DirectionalLight',
        ambient:'AmbientLight',
        hemi:'HemisphereLight'
      },
      color: 0xFFFFFF,
      secColor: 0xFFFFFF, // for hemilight
      intensity: 1,
      distance: 0,
      angle: 60,
      exponent: 8,
      ready: function() {
        this.object.castShadow = this.shadow;
        var kind = this.kinds[this.kind] || this.kinds.point;
        if(kind == "HemisphereLight")
        {
         this.object = new THREE[kind](this.color,this.secColor, this.intensity);
        }
        else{
        this.object = new THREE[kind](this.color, this.intensity, this.distance, this.angle * Math.PI/180, this.exponent);
        }
        if (this.castShadow) {
          this.object.castShadow = this.castShadow;
          this.object.shadowMapWidth = 1024;
          this.object.shadowMapHeight = 1024;
          this.object.shadowCameraNear = 500;
          this.object.shadowCameraFar = 4000;//3500
          this.object.shadowCameraFov = 30;
          this.object.shadowBias = 0.0001;//-0.0001;
          this.object.shadowDarkness = 0.5;		//dirLight.shadowDarkness = 0.35;
          /*var d = 50;
		      dirLight.shadowCameraLeft = -d;
		      dirLight.shadowCameraRight = d;
		      dirLight.shadowCameraTop = d;
		      dirLight.shadowCameraBottom = -d;
          dirLight.onlyShadow = true;
          var shadowConst = 0.8;
          dirLight.shadowDarkness = shadowConst * dirLight.intensity;*/
        }
        this.object.name = this.name;
        this.super();
      },
      /*updatePosition: function() {
        this.super();
      }*/
    });
  </script>
</polymer-element>

